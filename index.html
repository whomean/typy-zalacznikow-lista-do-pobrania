<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚ö†Ô∏è Twoje urzƒÖdzenie zosta≈Ço zainfekowane!</title>
  <style>
    /* Reset i layout */
    html,body{margin:0;padding:0;height:100%;overflow:hidden;font-family:sans-serif;}
    body{display:flex;flex-direction:column;justify-content:center;align-items:center;background:#000;color:#fff;text-align:center;}
    h1{font-size:6vw;line-height:1.1;margin:0 1rem;text-shadow:0 0 20px red;}
    #flash{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;animation:flash 0.15s infinite;}
    @keyframes flash{0%{background:rgba(255,0,0,0.8);}50%{background:rgba(0,0,0,0.8);}100%{background:rgba(255,0,0,0.8);}}
    .btn{margin-top:2rem;padding:1rem 2rem;font-size:1.2rem;border:none;border-radius:12px;background:#ff0000;color:#fff;cursor:pointer;}
  </style>
</head>
<body>
  <div id="flash"></div>
  <h1>‚ö†Ô∏è UWAGA! TW√ìJ TELEFON ZOSTA≈Å ZAINFEKOWANY ‚ö†Ô∏è</h1>
  <button class="btn" onclick="stopEffects()">Zamknij</button>

  <!-- D≈∫wiƒôk alarmu (podmie≈Ñ src na w≈Çasny plik MP3) -->
  <audio id="alarm" src="alarm.mp3" loop></audio>

<script>
(function(){
  const alarm = document.getElementById('alarm');
  alarm.volume = 1;
  // Spr√≥buj odtworzyƒá d≈∫wiƒôk natychmiast ‚Äì nie wszystkie przeglƒÖdarki pozwolƒÖ
  alarm.play().catch(()=>{});

  const vibrationPattern = [400, 200, 400, 200, 800];
  let vibrated = false;

  function vibrateNow(){
    if (navigator.vibrate) {
      navigator.vibrate(vibrationPattern);
      vibrated = true;
    }
  }

  /* üî• ZMIANA: natychmiastowe wibracje tu≈º po za≈Çadowaniu skryptu */
  vibrateNow();

  // Fallback ‚Äì pierwszy dotyk u≈ºytkownika (iOS wymaga gestu)
  window.addEventListener('touchstart', ()=>{ if(!vibrated) vibrateNow(); }, {once:true});

  // Utrzymuj efekt co 3‚ÄØs
  setInterval(vibrateNow, 3000);

  // Pƒôtla z komunikatami alert
  setTimeout(function alertLoop(){
    alert('‚ö†Ô∏è Tw√≥j telefon jest zainfekowany! ‚ö†Ô∏è');
    setTimeout(alertLoop, 5000);
  }, 400);

  // Pr√≥ba otwierania nowych kart (mo≈ºe byƒá blokowane)
  setInterval(()=>{ window.open('about:blank', '_blank'); }, 7000);
})();

function stopEffects(){
  if(navigator.vibrate) navigator.vibrate(0);
  const alarm = document.getElementById('alarm');
  alarm.pause();
  alarm.currentTime = 0;
  document.location.reload();
}
</script>
</body>
</html>
